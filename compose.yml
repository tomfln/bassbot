# Docker Compose for BassBot + Lavalink
#
# Quick start:
#   1. Create data directories:  mkdir bassbot-data lavalink
#   2. Fetch sample configs:
#        curl -o bassbot-data/config.json https://raw.githubusercontent.com/TomFln/bassbot/main/config.example.json
#        curl -o lavalink/application.yml https://raw.githubusercontent.com/TomFln/bassbot/main/lavalink/application.yml
#   3. Edit bassbot-data/config.json — fill in your bot token, client ID, etc.
#   4. (Optional) Set up YouTube OAuth — see README for instructions.
#   5. Start:  docker compose up -d

services:
  bassbot:
    image: ghcr.io/tomfln/bassbot:latest
    container_name: bassbot
    restart: unless-stopped
    networks:
      - lavalink
    volumes:
      - ./bassbot-data:/data
    environment:
      DATA_DIR: /data
      # All config is read from /data/config.json
      # You can override individual values via env vars:
      # TOKEN: override_token_here
      # CLIENT_ID: override_client_id_here

  lavalink:
    image: ghcr.io/lavalink-devs/lavalink:latest
    container_name: lavalink
    restart: unless-stopped
    environment:
      - _JAVA_OPTIONS=-Xmx4G
    volumes:
      - ./lavalink/application.yml:/opt/Lavalink/application.yml
      - ./lavalink/plugins:/opt/Lavalink/plugins
    expose:
      - 2333
    networks:
      - lavalink

networks:
  lavalink:
    name: lavalink
    